{% extends "roundborder.html" %}
{% block contentTitle %}{% endblock %}
{% block contentContent %}
    {% block profileContent %}{% endblock %}

    <div class="text-center pt-5 border-info" style="margin-top: 50px; margin-bottom: 30px; border-top: 3px solid">
        <h1 class="text-info font-weight-normal">{{_('Reviews')}}</h1>
    </div>

    <form method="POST" action="">
        {{ form.hidden_tag() }}

        <fieldset class="form-group" id="ribbon">
            <div class="row">
                <div class="col">
                    <div class="col-md-auto filter-btn">
                        {#                <div class="form-group">#}
                        <button class="btn btn-outline-info btn-size">
                            <i class="fas fa-filter"></i> {{_('Filter')}}
                        </button>
                        {#                </div>#}
                    </div>
                    <div class="col-md-auto sort-btn">
                        <div class="nav-item dropdown sort-dropdown">
                            <button class="btn btn-outline-info btn-size" id="dropdownSortButton" data-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false"><i class="fas fa-sort-amount-up-alt"></i> {{_('Sort')}}
                            </button>
                            <div class="dropdown-menu dropdown-primary" aria-labelledby="dropdownSortButton">
                                <a class="dropdown-item" href="#">A-Z</a>
                                <a class="dropdown-item" href="#">Z-A</a>
                                <a class="dropdown-item" href="#">{{ _('New-Old') }}</a>
                                <a class="dropdown-item" href="#">{{ _('Old-New') }}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group" id="search-bar">
                        {{ form.search.label(class="form-control-label") }}
                        {% if form.search.errors %}
                            {{ form.search(class="form-control is-invalid") }}
                            <div class="invalid-feedback">
                                {% for error in form.email.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.search(class="form-control form-control-lg search-size", style="width: 100%", value="Search...") }}
                        {% endif %}
                    </div>
                </div>
            </div>

            {% for review in data %}

            <div class="content-section border-light p-4 mx-5 mb-5 display-review">
                <div class="row">
                    <div class="display_rate col-ms-auto margin-b">
                        {% for i in range(1,6) %}
                            {% if review.amount_of_stars <= 5-i %}
                                <label>{{ _('stars') }}</label>
                            {% else %}
                                <label style="color: #deb217">{{ _('stars') }}</label>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <div class="row" style="margin-left: 0">
                    <div class="col display-title">
                        <b>{{ review.title }}</b>
                    </div>
                </div>
                <div class="row">
                    <div class="col display-name">
                        <b>{{ review.get_creation_date_as_string() }}</b> {{ _('by') }}
                        <b>{{ review.get_user_from_as_object().first_name }} {{ review.get_user_from_as_object().last_name }}</b>
                    </div>
                </div>
                <div class="row" style="margin-left: 0">
                    <img class="display-profile-pic-review"
                         src="{{ url_for('static', filename="images/temp_profile_pic.png") }}" alt="HTML5 Icon">
                </div>
                <div class="row display-review">
                    <p>{{ review.review_text }}</p>
                </div>
            </div>

            {% endfor %}

        </fieldset>
    </form>
{% endblock contentContent %}