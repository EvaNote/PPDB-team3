dist: xenial
language: python
python:
  - "3.7"
services:
  - postgresql
env:
  - DATABASE = postgres://postgres@localhost/travis_ci_test
install:
  - pip install -r requirements.txt
before_script:
  - psql -c 'CREATE ROLE app WITH LOGIN CREATEDB;'
  - psql -c 'CREATE DATABASE travis_ci_test OWNER app;'
script:
  - python app_test.py
